<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Salifort Motors - Google Advanced Analytics Capstone Project · Rodders
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Rodders">
<meta name="description" content="Google Advanced Data Analytics Capstone Project">
<meta name="keywords" content="Google, Data Analytics, Python, pandas, Machine Learning">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Salifort Motors - Google Advanced Analytics Capstone Project"/>
<meta name="twitter:description" content="Google Advanced Data Analytics Capstone Project"/>

<meta property="og:title" content="Salifort Motors - Google Advanced Analytics Capstone Project" />
<meta property="og:description" content="Google Advanced Data Analytics Capstone Project" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rodders.me/projects/salifort_project/salifort-motors/" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2024-02-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-02-10T00:00:00+00:00" />




<link rel="canonical" href="https://rodders.me/projects/salifort_project/salifort-motors/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.fa74189526e858f964d89230d76de3b1dd7aa7d5e112c726978c80a47e8d34f5.css" integrity="sha256-&#43;nQYlSboWPlk2JIw123jsd16p9XhEscml4yApH6NNPU=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://rodders.me/">
      Rodders
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://rodders.me/projects/salifort_project/salifort-motors/">
          Salifort Motors - Google Advanced Analytics Capstone Project
        </a>
      </h1>
    </header>

    <p><img src="/salifort_project/img/salifort_logo.png" alt="Salifort Logo"></p>
<h2 id="google-advanced-data-analytics-capstone-project---salifort-motors">
  Google Advanced Data Analytics Capstone Project - Salifort Motors
  <a class="heading-link" href="#google-advanced-data-analytics-capstone-project---salifort-motors">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h3 id="overview">
  Overview
  <a class="heading-link" href="#overview">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Salifort Motors (The Client) is a fictitious company experiencing significant loss of employees.
They have created a project team to provide data driven suggestions for the HR team to implement to
improve employee retention.</p>
<p>The estimated cost of lost employees to the client is in the order of £42m for 2022, for 1,991
employees who left employment in 2022, representing 20% of all employees (10,000).</p>
<p>The project was completed using the PACE framework and the conclusions were :</p>
<ul>
<li>A Machine Learning model that can make predictions on the probability of an employee leaving</li>
<li>a number of recommendations for the team at Salifort Motors aimed at improving employee retention.</li>
</ul>
<pre tabindex="0"><code>As a capstone project, this was a great opportunity for me  
to develop tools and workflows for a data analysis project. 

While the project only requires a solution with one model, 
I wanted to see how the models compared, which is why this 
is such a large document. 
</code></pre><p>A typical Data Analysis project would decide on a single model and stick with it!</p>
<h3 id="client-documentation">
  Client Documentation
  <a class="heading-link" href="#client-documentation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><a href="/salifort_project/docs/cd_01_Salifort_Motors_project-PROPOSAL.php" >Client Proposal</a></p>
<p>This details a typical client proposal for the work that needs to be carried out.</p>
</li>
<li>
<p><a href="/salifort_project/docs/cd_02_Salifort_Motors_PACE_Plan.php" >PACE Framework</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/cd_04_Salifort_Motors_EXECUTIVE_SUMMARY.php" >Executive Summary Analysis</a></p>
<ul>
<li><a href="/salifort_project/presentation/cd_04a_Salifort_Motors_EXECUTIVE_SUMMARY_PRESENTATION.html" >Executive Summary Presentation</a></li>
</ul>
</li>
<li>
<p><a href="/salifort_project/docs/cd_05_Salifort_Motors_HR_SUMMARY.php" >HR Summary Analysis</a></p>
<ul>
<li><a href="/salifort_project/presentation/cd_05a_Salifort_Motors_HR_SUMMARY_PRESENTATION.html" >HR Summary Presentation</a></li>
</ul>
</li>
<li>
<p><a href="/salifort_project/docs/HR_Summary_Notebook.php" >HR Summary Notebook for discussion</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/cd_06_Salifort_Motors_TEAM_SUMMARY.php" >Team Summary</a></p>
</li>
</ul>
<p>Generates a report for each department</p>
<ul>
<li><a href="/salifort_project/docs/cd_06_Salifort_Motors_TEAM_SUMMARY-example-output.php" >Example Team Summary Notebook (Plots for presentations)</a></li>
</ul>
<p>An example of the generated Team report</p>
<ul>
<li>
<p><a href="/salifort_project/docs/cd_03_Salifort_Motors_Analyst_SUMMARY.php" >Analyst Report</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/cd_99_Salifort_Motors_Project_Close.php" >Project Close</a></p>
</li>
</ul>
<h3 id="analysts-project-notebooks">
  Analyst&rsquo;s Project Notebooks
  <a class="heading-link" href="#analysts-project-notebooks">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<ul>
<li>
<p><a href="/salifort_project/docs/nb_03_Salifort_Motors_project_EDA_cleanse.php" >Salifort Project - Data Cleanse Ops</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_04_Salifort_Motors_project_EDA_ANALYSIS.php" >Salifort Project - EDA Analysis Ops</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_05_Salifort_Motors_project_Feature_Engineering.php" >Salifort Project - Feature Engineering</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_06_Salifort_Motors_project_Logistic_Regression_Model.php" >Salifort Project - Logistical Regression Modelling</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_07_Salifort_Motors_project_Decision_Tree_Model.php" >Salifort Project - Decision Tree Modelling</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_08_Salifort_Motors_project_XGBoost_Model.php" >Salifort Project - XGBoost Modelling</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_09_Salifort_Motors_project_Random_Forest_Model.php" >Salifort Project - Random Forest Modelling</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_11_Salifort_Motors_project_Model_Comparisons.php" >Salifort Project - Model Comparisons</a></p>
</li>
<li>
<p><a href="/salifort_project/docs/nb_12_Salifort_Motors_project_MODEL_DEMONSTRATION.php" >Salifort Project - Demonstration Model</a></p>
</li>
</ul>
<h3 id="about-this-project-structure">
  About this project structure
  <a class="heading-link" href="#about-this-project-structure">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<h4 id="methods">
  Methods
  <a class="heading-link" href="#methods">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Since this is for educational purposes I set out with a number of goals additional to the project objective:</p>
<h4 id="goal-1">
  Goal 1
  <a class="heading-link" href="#goal-1">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Experiment, experiment, break it, fix it, experiment, learn</p>
<h4 id="goal-2">
  Goal 2
  <a class="heading-link" href="#goal-2">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Develop workflow functions to handle common tasks across different models types.</p>
<p>Four models were created with a notebook for each. The workflows are nearly identical in each since I could establish a common set of steps and standardise the most labour-intensive into functions where the entire step could be replaced with a function call.</p>
<p>Outside of the typical functions (load, save, etc), functions were created for visualising, and reporting.</p>
<h5 id="for-eda-analysis">
  For EDA Analysis
  <a class="heading-link" href="#for-eda-analysis">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p>Reporting functions.</p>
<p><strong><code>eda_single(dataframe: object, var: str, decplace:int)</code>:</strong></p>
<pre><code>Return a df summary of the EDA variable.
in  : dataframe: Object = The dataframe to EDA
      var: String       = variable to summarise
      decplace: int     = Number of decimal place for pandas.options.display.float_format # to be removed
out : dataframe summary of the variable 
</code></pre>
<p><strong><code>eda_dual(dataframe: object, var1: str, var2: str, decplace: int)</code>:</strong></p>
<pre><code>Return a df summary of the EDA variable.
in  : dataframe: Object = The dataframe to EDA
      var1: String      = variable to summarise
      var2: String      = second variable
      decplace: int     = Number of decimal place for pandas.options.display.float_format # to be removed
out : dataframe grouped by summary of the variable 
</code></pre>
<p><strong><code>eda_single_bins(dataframe: object, var: str, bins: list, labels: list, decplace: int)</code>:</strong></p>
<pre><code>Return a BINNED df summary of the EDA variable.
in  : dataframe: Object = The dataframe to EDA
    : var: String       = variable to summarise
    : bins: List        = list object of the bin groupings e.g. [0, 0.33, 0.5, 0.7, 1] 
    : labels: List      = list object of the bin labels e.g. ['low', 'medium', 'high'] 
    : decplace: int     = Number of decimal place for pandas.options.display.float_format # to be removed
out : binned dataframe summary of the variable 
</code></pre>
<p>Various visualisation functions.</p>
<p><strong><code>correlation_single(dataframe: object, var: str)</code>:</strong></p>
<pre><code>Return a single row from the correlation plot.
in  : dataframe: Object = The dataframe to EDA
      var: String       = variable to summarise
out : correlation heatmap plot
</code></pre>
<p><strong><code>quadplot(dataframe:object, var:str, annotate:bool)</code>:</strong></p>
<pre><code>Quad plot 2x2 histogram, heatmap, barplot, violinplot,
in  : dataframe     : Object        = Dataframe to analyse
    : var           : Variable      = variable to summarise
    : annotate      : Bool          = Annotate the heatmap (if lots of data select False) True / False
out : 4 x plots of the variable.
</code></pre>
<p><strong><code>scatplot_single(dataframe: object, x_var: str, y_var: str)</code>:</strong></p>
<pre><code>Create scatterplot of two variables,
in  : dataframe : Object = Dataframe to analyse
    : x_var     : Str    = First variable to plot on x-axis
    : y_var     : Str    = Second variable to plot on y-axis
out : single scatterplot
</code></pre>
<p><strong><code>scatplot_multi(dataframe: object, var1: str)</code>:</strong></p>
<pre><code>Create scatterplots of one variable against all variables in dataframe,
in  : dataframe : Object = Dataframe to analyse
    : var1: Variable      = Variable to plot on y-axis
out : single scatterplot
</code></pre>
<h5 id="for-modelling">
  For modelling
  <a class="heading-link" href="#for-modelling">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p><strong><code>make_results(model_name: str, model_object: object, X_var: str, y_var: str, y_pred_var: str) </code>:</strong></p>
<pre><code>Returns a pandas df with the F1, recall, precision, and accuracy scores
for the model with the best mean F1 score across all validation folds.

In: 
    model_name (string):  How you want your model to be named in the output table
    model_object:         The model object
    X_var:                numpy array of X data
    y_var:                numpy array of y data
    y_pred_var:           numpy array of predict

Out: pandas df containing precision, recall, f1, accuracy, and AUC scores of the models
</code></pre>
<p><strong><code>format_GS_results(model_name:str, model_object, metric:str)</code>:</strong></p>
<pre><code>Returns a pandas df with the F1, recall, precision, accuracy, and auc scores
from the GridSearch.

In:
    model_name (string): what you want the model to be called in the output table
    model_object: a fit GridSearchCV object from test data
    metric (string): precision, recall, f1, accuracy, or auc
</code></pre>
<p><strong><code>classification_report_summary(name:str, y_var:str, y_pred_var:str)</code>:</strong></p>
<pre><code>Gather stats from predictions and format into a report

In: 
    name:str    : Test data name for report header e.g. TEST or TRAIN
    y_var       : y variable
    y_pred_var  : y prediction Variable

Out: Display of precision, recall, f1, accuracy, and AUC scores of the models, Weighted Average and Prediction f1 score for true/false
</code></pre>
<h4 id="goal-3">
  Goal 3
  <a class="heading-link" href="#goal-3">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Compare model performances across the most common models Logistical Regression, Random Forest, Decision Tree and XGBoost.</p>
<h4 id="goal-4">
  Goal 4
  <a class="heading-link" href="#goal-4">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Compare the effect on model performance of using the complete dataset and a feature engineered version  where features that had very low or no correlation were removed.
- In this project it was mainly the departments the employee worked in that had little bearing on the results.</p>
<p>Two datasets were created <!-- raw HTML omitted -->AllFeat<!-- raw HTML omitted --> which had all of the dataset features,  and <!-- raw HTML omitted -->NoDept<!-- raw HTML omitted --> which had the departments removed.</p>
<p>Each model was created, trained, used for predictions and scored. These scores were stored in Results.csv</p>
<h4 id="goal-5">
  Goal 5
  <a class="heading-link" href="#goal-5">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Create working demonstrations of the models to give &rsquo;live&rsquo; performance comparisons that would be easier to understand for the client&rsquo;s team. e.g.  rather than presenting F1 scores, AUC, Precision, etc. I can present an example where the model has been applied and a prediction given.</p>
<p>Four examples were developed and can be found in the following notebooks:</p>
<h5 id="interactive">
  Interactive
  <a class="heading-link" href="#interactive">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p>The function is given information about the employee:</p>
<ul>
<li>last_eval</li>
<li>left</li>
<li>number_project</li>
<li>overworked</li>
<li>promotion</li>
<li>salary</li>
<li>satisfaction</li>
<li>tenure</li>
</ul>
<p>And outputs a prediction from the main three models</p>
<h5 id="summary">
  Summary
  <a class="heading-link" href="#summary">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p>The models are run through the dataset for employees who have left and employees who have stayed. So, for example 1991 employees had left, the models are run on these employees to see how many it would have predicted to leave and again on the current employees to predict who is at risk from leaving.</p>
<h5 id="predictions-on-datafile">
  Predictions on datafile
  <a class="heading-link" href="#predictions-on-datafile">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p>The HR dataset is processed through the models and columns added with predictions, this is stored in an html file for later viewing</p>
<h5 id="team-managers-report">
  Team Manager&rsquo;s report
  <a class="heading-link" href="#team-managers-report">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p>This is a template that can be customised by the HR Team for each team manager. By simply changing one variable for the team an entire report can be generated, saving the HR team a lot of time preparing for meetings with team managers.</p>
<h4 id="salifort-project---team-summary-jupyter-notebooksalifort_projectdocscd_06_salifort_motors_team_summaryphp">
  <a href="/salifort_project/docs/cd_06_Salifort_Motors_TEAM_SUMMARY.php" >Salifort Project - Team Summary Jupyter Notebook</a>
  <a class="heading-link" href="#salifort-project---team-summary-jupyter-notebooksalifort_projectdocscd_06_salifort_motors_team_summaryphp">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>This notebook provides two elements to the team manager :</p>
<p>takes the variable for the team and applies a series of code cells to present the team&rsquo;s employee data as a series of comparative plots that demonstrate these metrics side by side for the company, the employees in that team that left and the current employees along with indicators across all plots for the average for the company.</p>
<h3 id="data-and-files">
  Data and Files
  <a class="heading-link" href="#data-and-files">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Files are structured to preserve my sanity</p>
<pre><code>&lt;h1&gt;Directory Tree&lt;/h1&gt;&lt;p&gt;
├── 00-data_cleaned&lt;br&gt;
├── 00-data_source&lt;br&gt;
├── 04-pickle-ML-models&lt;br&gt;
├── 99-documentation-project&lt;br&gt;
│   ├── 00-Timeline&lt;br&gt;
│   ├── 01-Client_Proposal&lt;br&gt;
│   ├── 02-PACE_Workflow&lt;br&gt;
│   ├── 03-Analyst_Summary&lt;br&gt;
│   ├── 04-Executive_Summary&lt;br&gt;
│   ├── 05-HR_Summary&lt;br&gt;
│   ├── 06-Team_Summaries&lt;br&gt;
│   ├── 07-predictions&lt;br&gt;
│   ├── 08-plot_data&lt;br&gt;
│   ├── 09-project_close&lt;br&gt;
│   ├── css&lt;br&gt;
│   └── img&lt;br&gt;
├── z-dev-notebooks&lt;br&gt;
├── nb_03_Salifort_Motors_project_EDA_cleanse.ipynb&lt;br&gt;
├── nb_04_Salifort_Motors_project_EDA_ANALYSIS.ipynb&lt;br&gt;
├── nb_06_Salifort_Motors_project_Feature_Engineering.ipynb&lt;br&gt;
├── nb_06_Salifort_Motors_project_Logistical_Regression_Model.ipynb&lt;br&gt;
├── nb_07_Salifort_Motors_project_Decision_Tree_Model.ipynb&lt;br&gt;
├── nb_08_Salifort_Motors_project_XGBoost_Model.ipynb&lt;br&gt;
├── nb_09_Salifort_Motors_project_Random_Forest_Model.ipynb&lt;br&gt;
├── nb_11_Salifort_Motors_project_Model_Comparisons.ipynb&lt;br&gt;
├── nb_12_Salifort_Motors_project_MODEL_DEMONSTRATION.ipynb&lt;br&gt;
</code></pre>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>19 directories</p>
<!-- raw HTML omitted -->

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2024
     Rodders 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
