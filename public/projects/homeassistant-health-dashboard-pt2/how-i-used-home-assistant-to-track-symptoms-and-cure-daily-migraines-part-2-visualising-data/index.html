<!DOCTYPE html>
<html lang="en">

<head>
  <title>
   Pt 2. Home Assistant Cured my Migraines · Rodders
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Rodders">
<meta name="description" content="Using Home Assistant&#39;s powerful dashboard, scripting and automations to track health, food and symptoms in order to cure my migraines - Part 2 visualising data">
<meta name="keywords" content="blog,developer,personal, analyst, pandas, python, homeassistant,smart-home,oh-my">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=" Pt 2. Home Assistant Cured my Migraines"/>
<meta name="twitter:description" content="Using Home Assistant&#39;s powerful dashboard, scripting and automations to track health, food and symptoms in order to cure my migraines - Part 2 visualising data"/>

<meta property="og:title" content=" Pt 2. Home Assistant Cured my Migraines" />
<meta property="og:description" content="Using Home Assistant&#39;s powerful dashboard, scripting and automations to track health, food and symptoms in order to cure my migraines - Part 2 visualising data" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rodders.me/projects/homeassistant-health-dashboard-pt2/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines-part-2-visualising-data/" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2025-07-07T09:15:27+00:00" />
<meta property="article:modified_time" content="2025-07-07T09:15:27+00:00" />




<link rel="canonical" href="https://rodders.me/projects/homeassistant-health-dashboard-pt2/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines-part-2-visualising-data/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.577e3c5ead537873430da16f0964b754a120fd87c4e2203a00686e7c75b51378.css" integrity="sha256-V348Xq1TeHNDDaFvCWS3VKEg/YfE4iA6AGhufHW1E3g=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://rodders.me/">
      Rodders
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/contact/">Contact</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/fsa-monthly/">UK Food Safety Infographics</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://rodders.me/projects/homeassistant-health-dashboard-pt2/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines-part-2-visualising-data/">
           Pt 2. Home Assistant Cured my Migraines
        </a>
      </h1>
    </header>

    <blockquote>
<p>Hint if you experience any of the <a href="http://rodders.me/projects/homeassistant-health-dashboard/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines/"  class="external-link" target="_blank" rel="noopener">symptoms I list in the previous article</a> on a regular basis, you might want to have a close look at your diet! This is not medical advice, I am not a Medical Professional, do not take medical advice from internet strangers. If you are suffering from similar symptoms, consider approaching a medical professional before biohacking your life.</p>
</blockquote>
<h5 id="table-of-contents">
  Table of Contents
  <a class="heading-link" href="#table-of-contents">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h5>
<p><a href="http://rodders.me/projects/homeassistant-health-dashboard/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines/"  class="external-link" target="_blank" rel="noopener">Part 1 - Curing Migraines with Home Assistant</a></p>
<ul>
<li><a href="#collecting-the-data" >Collecting the Data</a></li>
<li><a href="#understanding-the-pattern-of-my-symptoms" >Understanding The Pattern of my Symptoms</a></li>
<li><a href="#the-aha-moment-ingredients-not-foods" >The Aha Moment: Ingredients not Foods</a></li>
<li><a href="#the-data-structure" >The Data Structure</a></li>
<li><a href="#the-visualisation" >The data Visualised</a></li>
<li><a href="#conclusion" >Conclusion</a></li>
</ul>
<h1 id="analysing-and-visualising-collected-data-in-order-to-cure-my-migraines">
  Analysing and Visualising Collected Data in order to cure my Migraines
  <a class="heading-link" href="#analysing-and-visualising-collected-data-in-order-to-cure-my-migraines">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<blockquote>
<p>Practically every single day, for the last 15 years, I&rsquo;ve woken up with a migraine and gone to bed with one. It started at a friend&rsquo;s wedding. The evening before we&rsquo;re sharing a beer (Budweiser) chatting about the upcoming wedding, we go to bed, then at 3am in the morning I&rsquo;m woken by the worst headache I&rsquo;ve ever experienced. That headache lasted a week and was devastating, I cannot remember a single detail from that week, not the wedding, how I got home from Devon to Hampshire after the wedding, none of the calls from work asking where I was, the entire week is a blank.</p>
</blockquote>
<p>For 15 years I suffered these migraines, amongst multiple less severe but nonetheless annoying symptoms and the severity of the other symptoms was getting noticeably worse. I was getting desperate, the impact on my sleep, my entire life was huge, I withdrew, I suffered in silence and had reached my breaking point. Chatgpt I thought could perhaps help, it offered suggestions, I pursued them all to no avail until one day chatgpt suggested keeping a food &amp; symptom diary.</p>
<p>Being a hardcore nerd, I developed a dashboard for Home Assistant to simplify collecting data on my condition, from chatgpt&rsquo;s suggestion, the food I was eating was giving me migraines. The Home Assistant dashboard allowed me to collect consistent, clean data in order to be later analysed.</p>
<h2 id="collecting-the-data">
  Collecting the Data
  <a class="heading-link" href="#collecting-the-data">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>See <a href="http://rodders.me/projects/homeassistant-health-dashboard/how-i-used-home-assistant-to-track-symptoms-and-cure-daily-migraines/"  class="external-link" target="_blank" rel="noopener">Part 1 - Curing Migraines with Home Assistant</a> for details of the how to build the Home Assistant Dashboard.</p>
<p>Note that Home Assistant is not necessary to collect data, a paper and pen works just as well. While paper and pen didn&rsquo;t work for me, it may work for you, don&rsquo;t get hung up on the data collection methodology, there are apps out there, use them or don&rsquo;t.</p>
<h2 id="starting-the-analysis-of-the-collected-data">
  Starting the Analysis of the collected data
  <a class="heading-link" href="#starting-the-analysis-of-the-collected-data">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>I started reviewing the collected data daily, nothing complex, just looking back at what I ate in previous days and before I even started developing the planned machine learning model and visualisations, obvious examples of potentially problematic foods started to become more visible.</p>
<h2 id="understanding-the-pattern-of-my-symptoms">
  Understanding The Pattern of my Symptoms
  <a class="heading-link" href="#understanding-the-pattern-of-my-symptoms">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>What was not as visible is the duration of the symptoms and the &lsquo;cascade&rsquo; effect of my allergic response. I could eat a food with an ingredient of wheat/gluten some days and not appear to have any symptoms, but if I ate another trigger food the following  day I start to feel the beginnings of a migraine within a few hours. It took some months to figure out that my allergic response was cumulative. Eat a bit of celery one day, no immediate symptoms, eat a frozen burger (Wheat/Gluten) the following day I might be a bit snuffly with a barely registering headache, eat another trigger the following day and full blown symptoms started. Then not eating a trigger the following day, I&rsquo;d still have symptoms, because symptoms last up to a week.</p>
<p>This led to me excluding suspect foods with some questionable results. For quite a while I had not realised that Celery was a trigger. This  led to many mis-categorised foods, once celery was on my radar, connecting the dots to my cumulative allergic response and symptoms made progress swift.</p>
<p>The first step was eliminating any suspect foods for at least a week until I became symptom free, the first time I finally woke one morning not in pain, I think I cried (happy / relief tears).</p>
<p>After a week of no symptoms I&rsquo;d &rsquo;test&rsquo; a food, adding it to my diet for 3-4 days and recording any migraines and symptoms.</p>
<h2 id="the-aha-moment-ingredients-not-foods">
  The &lsquo;Aha!!&rsquo; Moment: Ingredients, not Foods
  <a class="heading-link" href="#the-aha-moment-ingredients-not-foods">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Over the following months I refined my understanding of what the hell was going on and adjusted my analysis from <strong>foods</strong> to <strong>ingredients</strong>. Where I had suspected Bread as a <strong>food</strong>, now became the <strong>ingredients</strong> wheat/gluten and any foods containing that ingredient were eliminated. I cook a lot of Asian food, many asian sauces are derived from wheat : Soy, Black Bean, Szechuan Chili Bean, Oyster Sauce. My lazy foods were frozen pork and beef burgers, guess what they contain ? Yeah Wheat. Spice mixes? Wheat, Gluten Free Hob Knob Biscuits? yeah, dairy. I am sure you get the picture, as these problematic ingredients were eliminated I started to see more days without a migraine than with a migraine.</p>
<p>This led me to begin putting a visualisation together that could perhaps better understand the relationship between ingredients and my symptoms.</p>
<h2 id="the-data-structure">
  The Data Structure
  <a class="heading-link" href="#the-data-structure">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Using Python, Pandas and Plotly, I developed the visualisation along with a lookup to add suspect ingredients to the initial dataset.</p>
<p>The initial collected data :</p>
<table>
<thead>
<tr>
<th style="text-align:left">Date</th>
<th style="text-align:left">Time</th>
<th style="text-align:left">Category</th>
<th style="text-align:left">Item</th>
<th style="text-align:left">Data</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">13:36</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Chip Shop Burger Chips</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">13:36</td>
<td style="text-align:left">HEADACHE</td>
<td style="text-align:left">RECORD</td>
<td style="text-align:left">1</td>
</tr>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">17:28</td>
<td style="text-align:left">WEIGHT</td>
<td style="text-align:left">RECORD</td>
<td style="text-align:left">75.4Kg</td>
</tr>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">19:37</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Rice</td>
<td style="text-align:left">48</td>
</tr>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">19:37</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Roast Pork</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">2025-01-16</td>
<td style="text-align:left">19:37</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Vegetables</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">01:30</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Apple Juice</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">04:20</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Apple Juice</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">08:35</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Lactose Free Milk</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">08:35</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Sugar</td>
<td style="text-align:left">4</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">08:35</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Weetabix</td>
<td style="text-align:left">13</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">08:35</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Weetabix</td>
<td style="text-align:left">13</td>
</tr>
<tr>
<td style="text-align:left">2025-01-17</td>
<td style="text-align:left">12:35</td>
<td style="text-align:left">FOOD</td>
<td style="text-align:left">Chipolata Sausages</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left"><a href="http://rodders.me/health_data_tracker_visualisation/vertical_food_timeline.html"  class="external-link" target="_blank" rel="noopener">Click to view the visualisation</a></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="adding-ingredients-to-foods-in-the-dataset">
  Adding Ingredients to Foods in the dataset
  <a class="heading-link" href="#adding-ingredients-to-foods-in-the-dataset">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>I needed to add the ingredients and build a small lookup table.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Item</th>
<th style="text-align:left">Ingredients</th>
<th style="text-align:left">Ingredients_list</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Butter</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Butter - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Cheese</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Cheese - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Choccie Coffee</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Choccie Coffee - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Diabetic Chocolate</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Diabetic Chocolate - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Lactose Free Cheese</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Lactose Free Cheese - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Parmaggio Regianna Cheese</td>
<td style="text-align:left">Casein/Whey/Lactose</td>
<td style="text-align:left">Parmaggio Regianna Cheese - Casein/Whey/Lactose</td>
</tr>
<tr>
<td style="text-align:left">Celery</td>
<td style="text-align:left">Celery</td>
<td style="text-align:left">Celery Allergenic</td>
</tr>
<tr>
<td style="text-align:left">Black Bean Sauce</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Black Bean Sauce - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Chicken Satay</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Chicken Satay - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Chipolata Sausages</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Chipolata Sausages - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Cofast Potato Spicy Snack</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Cofast Potato Spicy Snack - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Cornish Pasty</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Cornish Pasty - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Frozen Burgers</td>
<td style="text-align:left">Wheat/Gluten</td>
<td style="text-align:left">Frozen Burgers - Wheat/Gluten</td>
</tr>
<tr>
<td style="text-align:left">Chip Shop Burger Chips</td>
<td style="text-align:left">Wheat/Gluten’, ‘Casein/Whey/Lactose</td>
<td style="text-align:left">Chip Shop Burger Chips - Wheat/Gluten,Chip Shop Burger Chips – Casein/Whey/Lactose</td>
</tr>
</tbody>
</table>
<h2 id="the-visualisation">
  The Visualisation
  <a class="heading-link" href="#the-visualisation">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Using Python, Pandas and Plotly  I merged the datasets to produce this interactive visualisation:</p>
<p><a href="http://rodders.me/health_data_tracker_visualisation/vertical_food_timeline.html"  class="external-link" target="_blank" rel="noopener"><img src="http://rodders.me/health_data_tracker_visualisation/example_visualisation.png" alt="snapshot of the Food / Ingredient / Symptom Visualisation"></a></p>
<p><a href="http://rodders.me/health_data_tracker_visualisation/vertical_food_timeline.html"  class="external-link" target="_blank" rel="noopener">http://rodders.me/health_data_tracker_visualisation/vertical_food_timeline.html</a></p>
<p>Hover over the dots for details of foods (Blue) and Suspect ingredients (Green), click drag to select an area to zoom into, double click to zoom out. Additional controls are in the top right of the plot.</p>
<h2 id="conclusion">
  Conclusion
  <a class="heading-link" href="#conclusion">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>After 15 years, through the ever-so-simple process of eliminating trigger foods, I am migraine free, apart from days I test foods. Ignoring a recent test for celery last week, I&rsquo;ve been migraine and symptom free for the last 3 weeks (July 2025 at the time of writing).</p>
<p>I set out to “solve” migraines with tracking my diet and symptoms using Home Assistant. I wanted to get a clearer picture of what was happening to me every day. But over time, as the data built up and patterns began to emerge, I started to feel less like I was at the mercy of random symptoms and more like I had something I could work with.</p>
<p>Tracking everything in one place — food, sleep, migraines, ingredients let me spot correlations I’d never have otherwise noticed. Visualising it made it real. It helped me adjust my habits, diet, confirm what was working, and slowly piece together a version of daily life where I wasn’t constantly firefighting unexplained migraines.</p>
<p>This approach didn’t magically “cure” anything, but it gave me clarity. And in the mess of trial and error that is managing chronic symptoms, that clarity has been worth everything.</p>
<p>I still log food, it takes a moment to do so using Home Assistant as I suspect my allergies are still developing, we&rsquo;ll see.</p>
<h2 id="stranger-danger">
  Stranger Danger
  <a class="heading-link" href="#stranger-danger">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Again, I am not a doctor, this is not medical advice, stranger danger!. Everyone is different, I think my experience might be a possible avenue for the daily migraine sufferers to pursue. The once-in-a-while &ldquo;kill me&rdquo; migraines are probably something else.</p>
<p>I&rsquo;m guessing, wtf do I know? This is what worked for me, if you&rsquo;re at your breaking point, consider giving this a try?</p>

  </article>
</section>

  

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2019 -
    
    2025
     Rodders 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
